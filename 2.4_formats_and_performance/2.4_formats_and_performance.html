
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Data Formats and Performance &#8212; Cubes &amp; Clouds - Cloud Native Open Data Sciences for Earth Observation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!-- 
    this give us a css class that will be invisible only if js is disabled 
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=26a4bc78f4c0ddb94549" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=a3416100" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- So that users can add custom icons -->
  <script src="../_static/scripts/fontawesome.js?digest=26a4bc78f4c0ddb94549"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549" />

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = '2.4_formats_and_performance/2.4_formats_and_performance';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.1 Data Processing" href="../3.1_data_processing/3.1_data_processing.html" />
    <link rel="prev" title="Apply Operator with Pangeo" href="../2.3_data_access/exercises/_alternatives/pangeo_data_access_apply.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../README.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt="Cubes & Clouds - Cloud Native Open Data Sciences for Earth Observation - Home"/>
    <img src="../_static/logo.png" class="logo__image only-dark pst-js-only" alt="Cubes & Clouds - Cloud Native Open Data Sciences for Earth Observation - Home"/>
  
  
</a></div>
        <div class="sidebar-primary-item">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../README.html">
                    Lectures
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Setup</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../0_introduction/0_introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../0_introduction/exercises/0_login.html">Login to openEO</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">1. Concepts</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../1.1_intro_platform/1.1_intro_platform.html">Earth Observation cloud platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../1.2_data_cube/1.2_data_cube.html">What is a data cube?</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../1.3_openscience/1.3.1_openscienceandfair.html">Open Science and the FAIR Principles</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../1.3_openscience/1.3.3_openscienceineo.html">The Open Science Journey - Open Science in geospatial, EO and EO cloud platforms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../1.3_openscience/1.3.2_opendataopensource.html">Open Data and Open Source Software</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">2. Discovery</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../2.1_data_discovery/2.1_data_discovery.html">Data Discovery</a></li>

<li class="toctree-l1"><a class="reference internal" href="../2.2_data_properties/2.2_data_properties.html">Data Properties</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2.3_data_access/2.3_data_access.html">Access EO Data from the Cloud with OpenEO</a></li>

<li class="toctree-l1 has-children"><a class="reference internal" href="../2.3_data_access/2.3_pangeo_data_access.html">Access EO Data from the Cloud with Pangeo</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../2.3_data_access/exercises/_alternatives/pangeo_data_access_lazy_loading.html">Data Access and Basic Processing with Pangeo ecosystem</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_data_access/exercises/_alternatives/pangeo_data_access_reduce.html">Reduce Operators with Pangeo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_data_access/exercises/_alternatives/pangeo_data_access_filter.html">Filter Operators with Pangeo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_data_access/exercises/_alternatives/pangeo_data_access_resample.html">Resample Operators with Pangeo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_data_access/exercises/_alternatives/pangeo_data_access_aggregate.html">Aggregate Operators with Pangeo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../2.3_data_access/exercises/_alternatives/pangeo_data_access_apply.html">Apply Operator with Pangeo</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Data Formats and Performance</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">3. Process &amp; Share</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../3.1_data_processing/3.1_data_processing.html">Data processing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../3.1_data_processing/3.1_exercises/31_data_processing.html">Basic EO workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_data_processing/3.1_exercises/_alternatives/31_data_processing_stac.html">EO workflow with STAC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_data_processing/3.1_exercises/_alternatives/31_data_processing_openEO_Platform.html">EO workflow with openEO</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_data_processing/3.1_exercises/_alternatives/31_data_processing_pangeo.html">EO workflow with Pangeo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3.1_data_processing/3.1_exercises/_alternatives/34_data_sharing_aoi_test.html">Data sharing and publishing</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../3.2_validation/3.2_validation.html">Validation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../3.2_validation/3.2_exercises/32_validation.html">3.2 Validation</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../3.3_data_sharing/3.3_data_sharing.html">3.3 Data Sharing</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../3.3_data_sharing/3.3_exercises/33_data_sharing.html">3.3 Data Sharing</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">4. Additional materials</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../9.9_master_asi_conae/s2_sca.html">Sentinel-2 snow cover area (SCA) time series</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../9.9_master_asi_conae/test/s3_ndsi.html">List all the available dataset</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9.9_master_asi_conae/test/s1.html">S1</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9.9_master_asi_conae/test/s2_snowcover_test.html">Sentinel-2 snow cover</a></li>
<li class="toctree-l2"><a class="reference internal" href="../9.9_master_asi_conae/test/test_s1_s3.html">Sentinel-1</a></li>

</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/annefou/cubes-and-clouds" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/annefou/cubes-and-clouds/issues/new?title=Issue%20on%20page%20%2F2.4_formats_and_performance/2.4_formats_and_performance.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/2.4_formats_and_performance/2.4_formats_and_performance.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button>


<button class="btn btn-sm pst-navbar-icon search-button search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
</button>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data Formats and Performance</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-objectives">Learning Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#outline">Outline</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cloud-native-data-formats">Cloud native data formats</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-are-cloud-native-data-formats">What are cloud native data formats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#characteristics-of-cloud-native-data-formats">Characteristics of cloud native data formats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examples-of-cloud-native-data-formats">Examples of cloud native data formats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#available-material">Available Material</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scaling">Scaling</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#horizontal-vs-vertical-scaling">Horizontal vs vertical scaling</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-scaling">How to scaling</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subscription-vs-on-demand-usage">Subscription vs. On-Demand usage</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cost-of-scalability">Cost of scalability</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memory-consumption">Memory consumption</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#difference-between-platform-usage-and-cloud-directly">Difference between platform usage and cloud directly</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-to-avoid-and-what-are-the-limitations">What to avoid and what are the limitations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#animated-content-tiling-and-application-drag-and-drop">Animated Content: Tiling and application (drag and drop)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quiz">Quiz</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#compression-quiz">Compression Quiz</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="data-formats-and-performance">
<h1>Data Formats and Performance<a class="headerlink" href="#data-formats-and-performance" title="Link to this heading">#</a></h1>
<section id="learning-objectives">
<h2>Learning Objectives<a class="headerlink" href="#learning-objectives" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Understand what cloud native data formats are</p></li>
<li><p>Understand how the cloud does computing more efficiently</p></li>
</ul>
</section>
<section id="outline">
<h2>Outline<a class="headerlink" href="#outline" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Cloud Native Data Formats</p>
<ul>
<li><p>Why do we need them</p></li>
<li><p>What is there advantage over classical file formats</p></li>
<li><p>Not one format to rule them all.</p></li>
<li><p>Examples</p></li>
</ul>
</li>
<li><p>Performance in the cloud</p>
<ul>
<li><p>Tiling</p></li>
<li><p>Scaling</p></li>
<li><p>Distributed Computing</p></li>
</ul>
</li>
<li><p>The Microsoft Planetary Computer Setup - State of the Art open source cloud native technology stack</p>
<ul>
<li><p>ODC, STAC, xarray, dask, cogs, …</p></li>
</ul>
</li>
</ul>
</section>
<section id="cloud-native-data-formats">
<h2>Cloud native data formats<a class="headerlink" href="#cloud-native-data-formats" title="Link to this heading">#</a></h2>
<section id="what-are-cloud-native-data-formats">
<h3>What are cloud native data formats<a class="headerlink" href="#what-are-cloud-native-data-formats" title="Link to this heading">#</a></h3>
<p>Cloud native formats or cloud-optimized formats, are file formats specifically designed to optimize the storage, access, and processing of geospatial data in cloud computing environments. These formats are tailored to leverage the scalability, flexibility, and parallel processing capabilities of cloud infrastructure, enabling efficient handling of large-scale datasets.</p>
<p><a class="reference external" href="https://www.youtube.com/watch?v=hxv3LxsdGhw"><img alt="Cloud Native Data Formats" src="https://img.youtube.com/vi/hxv3LxsdGhw/0.jpg" /></a> <br></p>
<blockquote>
<div><p>Video content in cooperation with <a class="reference external" href="https://developmentseed.org/team/aimee-barciauskas">Aimee Barciauskas</a> (DevelopmentSeed) and <a class="reference external" href="https://developmentseed.org/team/ryan-avery">Ryan Avery</a> (DevelopmentSeed). <br>
<em>“Cloud-optimised means organizing so subsets of data can be read. Ideally, the data is also compressed. Both of these factors minimize the amount of data that has to be transferred across a network.”</em></p>
</div></blockquote>
</section>
<section id="characteristics-of-cloud-native-data-formats">
<h3>Characteristics of cloud native data formats<a class="headerlink" href="#characteristics-of-cloud-native-data-formats" title="Link to this heading">#</a></h3>
<p>Cloud-optimized means mainly optimized “read” access with partial reads and also parallel reads. Main characteristics common for cloud-optimized formats:</p>
<ul class="simple">
<li><p><strong>Data Chunking:</strong> Cloud native formats employ a chunk-based organization, where the data is divided into smaller chunks or blocks. This enables parallel processing and efficient retrieval of specific portions of the data, reducing the need to access the entire dataset.</p></li>
<li><p><strong>Internal Indexing:</strong> These formats incorporate internal indexing structures that facilitate fast spatial and attribute queries. This enables efficient data access and retrieval operations without the need for extensive scanning or processing of the entire dataset.</p></li>
<li><p><strong>Metadata Optimization:</strong> Cloud native formats optimize metadata storage and indexing, allowing for efficient access and retrieval of metadata associated with the data at once. This supports faster discovery and interpretation of data properties and characteristics.</p></li>
<li><p><strong>Compression and Tiling:</strong> Cloud native formats often employ advanced compression techniques to reduce storage requirements while maintaining data quality. Additionally, they utilize tiling strategies to divide the data into smaller, manageable tiles that can be independently accessed and processed.</p></li>
</ul>
<p>HTTP Range Request allows clients to request only a specific portion or range of data instead of a complete dataset.</p>
</section>
<section id="examples-of-cloud-native-data-formats">
<h3>Examples of cloud native data formats<a class="headerlink" href="#examples-of-cloud-native-data-formats" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p><strong>COG</strong> - Cloud-Optimized GeoTIFF (COG) is an optimized version of the GeoTIFF format. It organizes raster data into chunks, utilizes internal tiling and compression, and uses HTTP range requests for efficient data access in the cloud.</p></li>
<li><p><strong>ZARR</strong> Zarr is a format specifically designed for storing and accessing multidimensional arrays. It supports chunking, compression, and parallel processing, making it suitable for large-scale geospatial datasets, for example, weather data. Metadata is stored externally in data files itself.</p></li>
<li><p><strong>FlatGeoBuf</strong> Cloud optimized vector data format. It is a binary encoding format for geodata and holds a collection of Simple Features.</p></li>
</ul>
<iframe src="https://create.eo-college.org/wp-admin/admin-ajax.php?action=h5p_embed&id=10" width="959" height="589" frameborder="0" allowfullscreen="allowfullscreen" title="Cubes&amp;Clouds: Cloud Native Data Formats"></iframe><script src="https://create.eo-college.org/wp-content/plugins/h5p/h5p-php-library/js/h5p-resizer.js" charset="UTF-8"></script>
</section>
<section id="available-material">
<h3>Available Material<a class="headerlink" href="#available-material" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Ryan Avery, Aimee Barciauskas, Development Seed, United States (2023). Technologies used to Create, Store and Access Geospatial Data in the Cloud. <a class="reference external" href="https://2023.ieeeigarss.org/view_paper.php?PaperNum=5306">https://2023.ieeeigarss.org/view_paper.php?PaperNum=5306</a></p></li>
<li><p>ESIP Talk on Cloud Native Formats: <a class="reference external" href="https://www.youtube.com/watch?v=ac_UKunUrNM">https://www.youtube.com/watch?v=ac_UKunUrNM</a></p></li>
<li><p>FOSS4G Talk On Cloud Native Formats (Matthew Hanson)</p>
<ul>
<li><p><a class="reference external" href="https://talks.osgeo.org/foss4g-2023/talk/XBHYF9/">https://talks.osgeo.org/foss4g-2023/talk/XBHYF9/</a></p></li>
<li><p><a class="reference external" href="https://space.cloud68.co/s/xExLwCmzzKEcoB9?dir=undefined&amp;amp;path=%2FLumbardhi%2F28.06.2023&amp;amp;openfile=1356611">https://space.cloud68.co/s/xExLwCmzzKEcoB9?dir=undefined&amp;path=%2FLumbardhi%2F28.06.2023&amp;openfile=1356611</a></p></li>
</ul>
</li>
<li><p>OGC White Paper on Cloud Native Formats (Chris Holmes, Scott Simmons):</p>
<ul>
<li><p><a class="reference external" href="https://www.ogc.org/blog-article/towards-a-cloud-native-ogc/">https://www.ogc.org/blog-article/towards-a-cloud-native-ogc/</a></p></li>
<li><p><a class="reference external" href="https://www.ogc.org/blog-article/towards-a-cloud-native-geospatial-standards-baseline/">https://www.ogc.org/blog-article/towards-a-cloud-native-geospatial-standards-baseline/</a></p></li>
<li><p><a class="reference external" href="https://www.ogc.org/blog-article/the-latest-on-cloud-native-geospatial-standards-in-ogc/">https://www.ogc.org/blog-article/the-latest-on-cloud-native-geospatial-standards-in-ogc/</a></p></li>
</ul>
</li>
<li><p>Cloud-Native Geospatial Foundation initiative of Radiant Earth:</p>
<ul>
<li><p><a class="reference external" href="https://cloudnativegeo.org">https://cloudnativegeo.org</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://twitter.com/opencholmes/status/1677144519215833089">Tweet</a> from Chris Holmes (great example - postholer)</p></li>
</ul>
</section>
</section>
<section id="scaling">
<h2>Scaling<a class="headerlink" href="#scaling" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Show concepts of scaling</p></li>
<li><p>Mention resource usage on cloud platforms. Track resources. Every processing has it’s cost.</p></li>
</ul>
<p>Scaling refers to the process of increasing or decreasing the capacity or size of a system to handle a larger or smaller workload or data volume. Scaling does not necessarily means only in the direction of larger and bigger but also saving unnecessary costs in times when there is no traffic. In our context, scaling involves managing the growth of data, traffic, or processing requirements to ensure optimal performance and availability.</p>
</section>
<section id="horizontal-vs-vertical-scaling">
<h2>Horizontal vs vertical scaling<a class="headerlink" href="#horizontal-vs-vertical-scaling" title="Link to this heading">#</a></h2>
<p>Two classical approaches to scaling are horizontal and vertical:</p>
<ul class="simple">
<li><p><strong>Horizontal scaling:</strong> Also known as scaling out, horizontal scaling involves adding more machines or nodes to distribute the workload across a larger number of resources. This could mean adding more servers or instances to handle increased traffic or data processing demands. Horizontal scaling offers the advantage of improved fault tolerance and increased capacity, as the workload is spread across multiple resources.</p></li>
<li><p><strong>Vertical scaling:</strong> Also known as scaling up, vertical scaling involves increasing the capacity of an individual machine or resource. This can be achieved by upgrading the hardware, such as adding more powerful processors, memory, or storage, to handle the growing demands of the geospatial application. Vertical scaling is often suitable for applications with single-node architectures or when the workload cannot be easily distributed across multiple machines.</p></li>
</ul>
<p>Both horizontal and vertical scaling have their advantages and considerations. Horizontal scaling provides better scalability and fault tolerance, as it can handle increased traffic and processing by adding more resources. However, it may require additional effort to distribute and synchronize data across multiple nodes. Vertical scaling, on the other hand, simplifies data management as all resources are contained within a single node, but it may have limitations in terms of the maximum capacity a single machine can handle.</p>
<p>In common workflows, a combination of both approaches is used to ensure optimal speed and resource utilization while being able to keep the simplicity of a workflow.</p>
</section>
<section id="how-to-scaling">
<h2>How to scaling<a class="headerlink" href="#how-to-scaling" title="Link to this heading">#</a></h2>
<p>There are many approaches how to handle scaling properly.</p>
<p>todo: parallel computing section</p>
<section id="subscription-vs-on-demand-usage">
<h3>Subscription vs. On-Demand usage<a class="headerlink" href="#subscription-vs-on-demand-usage" title="Link to this heading">#</a></h3>
<p><strong>Subscription:</strong> A subscription model involves a fixed, recurring payment made by the user to access and utilize the cloud platform’s services over a specific period, typically monthly or annually. Under a subscription model, users typically commit to a predetermined level of resources and pay a regular fee regardless of the actual usage during that period. This model often provides cost predictability and may offer discounts or benefits for long-term commitments. Users can usually choose from various options and combinations of resources (eg. GPU, CPU, disk storage combinations).</p>
<p>Advantages of the Subscription Model:</p>
<ul class="simple">
<li><p>Cost Predictability: Users have a clear understanding of the ongoing costs as they pay a fixed fee.</p></li>
<li><p>Potential Cost Savings: Subscriptions may offer discounts or cost benefits for longer-term commitments.</p></li>
<li><p>Continuous Service Access: Users have continuous access to the subscribed services without the need for frequent renewal or payment management.</p></li>
</ul>
<p><strong>On-Demand Usage:</strong> In an on-demand model, users pay for the cloud platform’s services based on actual usage and consumption. Users are charged on a pay-as-you-go basis, where they pay for the resources or services they utilize in a given period. There are no long-term commitments or fixed fees. This model offers flexibility and scalability, allowing users to scale resources up or down as per their needs.</p>
<p>Advantages of On-Demand Usage:</p>
<ul class="simple">
<li><p>Flexibility: Users have the flexibility to adjust resources based on their varying demands, scaling up or down as required.</p></li>
<li><p>Cost Efficiency: Users only pay for what they use, making it suitable for workloads with unpredictable or fluctuating resource needs.</p></li>
<li><p>No Long-Term Commitments: On-demand models do not require users to commit to a specific period or predefined resource levels, allowing for agility and quick adjustments.</p></li>
</ul>
<p>Choosing between subscription and on-demand models depends on various factors, including the nature of your workloads, budget considerations, and usage patterns. Based on this (and data availability) users can choose a platform that suits their needs best. Reviewing the pricing details is an important part before selecting a working environment.</p>
</section>
<section id="cost-of-scalability">
<h3>Cost of scalability<a class="headerlink" href="#cost-of-scalability" title="Link to this heading">#</a></h3>
<p>Direct examples of computing on a workflow
(todo: based on actual workflow)</p>
</section>
<section id="memory-consumption">
<h3>Memory consumption<a class="headerlink" href="#memory-consumption" title="Link to this heading">#</a></h3>
<p>limitations and</p>
</section>
<section id="difference-between-platform-usage-and-cloud-directly">
<h3>Difference between platform usage and cloud directly<a class="headerlink" href="#difference-between-platform-usage-and-cloud-directly" title="Link to this heading">#</a></h3>
<p>TODO: Is this covered already in the platform lesson? Yes
Using platforms removes complexity and adds abstraction layers</p>
</section>
</section>
<section id="what-to-avoid-and-what-are-the-limitations">
<h2>What to avoid and what are the limitations<a class="headerlink" href="#what-to-avoid-and-what-are-the-limitations" title="Link to this heading">#</a></h2>
<p>While scaling is providing many options and is essential for achieving results on a larger scale, there are some limitations to keep in mind and activities to even avoid.</p>
<p>Costs: One of the main characteristics to consider are costs of computing. Scaling resources dynamically can lead to increased costs, especially if not properly managed. It is essential to monitor resource usage and set appropriate maximum scaling policies to ensure cost optimization. Failure to do so may result in unnecessary provisioning of resources, leading to higher expenses. The purchase of many computational resources can be easy, but very costly. Code optimization is important to ensure there are no memory leaks, unnecessary data storage, and other expensive operations.</p>
<p>Data Access: In geospatial cloud workflows, one of the big challenges lies in data access and optimal data storage. The easy trap is in loading large portions of unnecessary data without applying correct filters ahead. Such data volumes can lead to more requirements on RAM or disk space resulting in higher costs of processing or longer times (and more computational time) just to load the data.</p>
<p>Accessing data as files: Geospatial data are stored in many formats as discussed in this lesson and some are more appropriate to access in the cloud. The opportunity of first evaluating metadata before loading the whole dataset is great for saving time and money.</p>
<p>Latency and Data Transfer: In distributed and scaled-out architectures, managing data transfer and minimizing latency can be crucial. Moving data between services or instances across different locations can introduce network overhead and impact application performance. Efficient data caching, or data partitioning strategies can help mitigate these challenges.</p>
<p>Scaling Limits in the platform: While cloud platforms offer high scalability, there are still practical limits to consider. Every service or resource has its scalability limits, such as maximum instance count, storage capacity, or network throughput. It is important to understand these limitations and design your programs and applications accordingly.</p>
<p>To mitigate these challenges and limitations, it’s advisable to thoroughly plan and architect your application for scalability, leverage cloud-native tools and services, monitor resource usage and costs, and regularly test and optimize your scaling strategies. Additionally, staying updated with the latest advancements in cloud technologies and best practices will help you navigate the complexities of cloud-native scaling more effectively.</p>
<section id="animated-content-tiling-and-application-drag-and-drop">
<h3>Animated Content: Tiling and application (drag and drop)<a class="headerlink" href="#animated-content-tiling-and-application-drag-and-drop" title="Link to this heading">#</a></h3>
</section>
</section>
<section id="quiz">
<h2>Quiz<a class="headerlink" href="#quiz" title="Link to this heading">#</a></h2>
<p>What are cloud native data formats in EO and GIS</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[(X)] Cloud native data formats in EO should be compatible to cloud services (APIs, http requests, cloud storage), enable fast viewing and access to spatial sub regions.
[( )] Cloud native data formats in EO are exclusively designed to be compressed as much as possible, so that the least amount of storage space is necessary.
[( )] Cloud native data formats in EO have to be human readable when you open them in a text editor.
</pre></div>
</div>
<p>Connect the cloud native data format and it’s predecessor to it’s spatial data type (<a class="reference external" href="https://www.ogc.org/blog-article/towards-a-cloud-native-geospatial-standards-baseline/">https://www.ogc.org/blog-article/towards-a-cloud-native-geospatial-standards-baseline/</a>, (<a class="reference external" href="https://cholmes.medium.com/an-overview-of-cloud-native-vector-c223845638e0">https://cholmes.medium.com/an-overview-of-cloud-native-vector-c223845638e0</a>)</p>
<ul class="simple">
<li><p>[[raster] [n-dimensional raster] [vector]]</p></li>
<li><p>[( )     ( )                    (X)     ]  Shapefile</p></li>
<li><p>[( )     (X)                    ( )     ]  Zarr</p></li>
<li><p>[( )     ( )                    (X)     ]  GeoParquet/Arrow</p></li>
<li><p>[( )     ( )                    (X)     ]  Flatgeobuff</p></li>
<li><p>[(X)     ( )                    ( )     ]  GeoTIFF</p></li>
<li><p>[( )     (X)                    ( )     ]  NetCDF</p></li>
<li><p>[(X)     ( )                    ( )     ]  Cloud Optimized GeoTIFF (COG)</p></li>
</ul>
<p>Lazy-loading is essential when working with large data collections, why?</p>
</section>
<section id="compression-quiz">
<h2>Compression Quiz<a class="headerlink" href="#compression-quiz" title="Link to this heading">#</a></h2>
<p>Consider a cloud provider, that should decide if compressing the data on its storage would let it spare money.</p>
<p>If the compression process of a COG takes 0.05 CPU hour every 1 GB of data, the total amount of COGs on the storage takes 1200 TB and one CPU hour costs 0.05€ for the first 10000 CPU hour and then 0.03€ for the rest, how much would the compression process cost?</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[( )] 3000€
[( )] 1200€
[(X)] 2000€
[( )] 2043€
</pre></div>
</div>
<p>Solution:</p>
<ul class="simple">
<li><p>1 TB = 1000 GB following the international standard, see <a class="reference external" href="https://en.wikipedia.org/wiki/Gigabyte">https://en.wikipedia.org/wiki/Gigabyte</a>.</p></li>
<li><p>The amount of data on the storage is 1200 TB * 1000 GB/TB = 1200000 GB</p></li>
<li><p>If to compress 1 GB of data takes 0.05 CPU hour, to compress 1200000 GB it will take: 1200000 GB * 0.05 CPU hour / GB = 60000 CPU hour</p></li>
<li><p>The first 10000 CPU hour cost 10000 CPU hour * 0.05 €/CPU hour = 500€</p></li>
<li><p>The rest is 50000 CPU hour and it will cost 50000 CPU hour * 0.03 €/CPU hour = 1500 €</p></li>
<li><p>The total is 500 € + 1500 € = 2000 €</p></li>
</ul>
<p>In the same scenario, now we also consider the storage maintanance cost. If each TB of storage has a maintenance cost of 0.5 € every month, how much time would it take before the compression would let the cloud provider spare money? Consider a compression rate of 70%.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[( )] ~ 9 months
[( )] ~ 10 months
[(X)] ~ 11 months
[( )] ~ 12 months
</pre></div>
</div>
<p>Solution:</p>
<ul class="simple">
<li><p>Without compression, every month the storage would cost: 1200 TB * 0.5 €/TB = 600 €</p></li>
<li><p>With a compression rate of 70%, the data would use 1200 TB * 0.7 = 840 TB of disk space</p></li>
<li><p>With compression, every month the storage would cost: 840 TB * 0.5 €/TB = 420 €</p></li>
<li><p>With compression, each month it’s possible to spare 180 €.</p></li>
<li><p>Since the compression process costs 2000 €, and each month costs 180 € less with it, it would take 2000 € / 180 €/month ~= 11 months to start to spare money.</p></li>
</ul>
<p>Calculate the volume of data needed for the snow workflow according to the collections, time steps, bands, resolutions, spatial extent selected in the previous chapter, value types, format, compression estimate, etc. (this only if we define snow workflow already here) - Don’t use snow workflow -&gt; Set that information</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./2.4_formats_and_performance"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../2.3_data_access/exercises/_alternatives/pangeo_data_access_apply.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Apply Operator with Pangeo</p>
      </div>
    </a>
    <a class="right-next"
       href="../3.1_data_processing/3.1_data_processing.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">3.1 Data Processing</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#learning-objectives">Learning Objectives</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#outline">Outline</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cloud-native-data-formats">Cloud native data formats</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-are-cloud-native-data-formats">What are cloud native data formats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#characteristics-of-cloud-native-data-formats">Characteristics of cloud native data formats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#examples-of-cloud-native-data-formats">Examples of cloud native data formats</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#available-material">Available Material</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scaling">Scaling</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#horizontal-vs-vertical-scaling">Horizontal vs vertical scaling</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-scaling">How to scaling</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#subscription-vs-on-demand-usage">Subscription vs. On-Demand usage</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cost-of-scalability">Cost of scalability</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#memory-consumption">Memory consumption</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#difference-between-platform-usage-and-cloud-directly">Difference between platform usage and cloud directly</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#what-to-avoid-and-what-are-the-limitations">What to avoid and what are the limitations</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#animated-content-tiling-and-application-drag-and-drop">Animated Content: Tiling and application (drag and drop)</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quiz">Quiz</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#compression-quiz">Compression Quiz</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By ESA
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2024.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="../_static/scripts/bootstrap.js?digest=26a4bc78f4c0ddb94549"></script>
<script defer src="../_static/scripts/pydata-sphinx-theme.js?digest=26a4bc78f4c0ddb94549"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>